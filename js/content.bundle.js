(()=>{"use strict";function e(){if(void 0===window.location.search.split("v=")[1])return"";var e=window.location.search.split("v=")[1],t=e.indexOf("&");return-1!=t&&(e=e.substring(0,t)),e}console.log("Content Script Running"),chrome.runtime.sendMessage({msg:"content-script-loaded"});var t=e();chrome.runtime.sendMessage({msg:"update-current-videoId",videoId:t}),chrome.runtime.onMessage.addListener((function(t,s,n){if("obtain-timestamp"===t.msg){var i=function(){var t=document.getElementsByTagName("video")[0].currentTime,s=e(),n=document.getElementsByClassName("title style-scope ytd-video-primary-info-renderer")[0].firstChild.innerText;return{timestamp:Math.floor(t),videoId:s,title:n}}();n(i),function(e){var t=document.getElementById("YT_Timestamps_success_popup");null!=t&&t.remove();var s,n,i=document.createElement("div");i.id="YT_Timestamps_success_popup",i.style.position="fixed",i.style.display="flex",i.style.justifyContent="center",i.style.alignItems="center",i.style.top="75px",i.style.left="15%",i.style.width="33%",i.style.height="25px",i.style.background="#2171FF",i.style.border="2px solid #FFAF21",i.style.color="#FFAF21",i.style.fontSize="15px",i.style.borderRadius="5px",i.innerHTML="Added new timestamp: "+(s=e,(n=new Date(0)).setSeconds(s),n.toISOString().substr(11,8)),document.body.appendChild(i);var o=setTimeout((function(){i.remove(),clearTimeout(o)}),2e3)}(i.timestamp)}else if("change-time"===t.msg)r=t.timestamp,document.getElementsByTagName("video")[0].currentTime=r;else if("check-content-script-loaded"===t.msg){n({msg:"content-script-loaded"});var o=e();chrome.runtime.sendMessage({msg:"update-current-videoId",videoId:o})}var r}))})();